"use strict";(()=>{var e={};e.id=3482,e.ids=[3482],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},24703:(e,t,n)=>{n.r(t),n.d(t,{originalPathname:()=>y,patchFetch:()=>h,requestAsyncStorage:()=>u,routeModule:()=>d,serverHooks:()=>l,staticGenerationAsyncStorage:()=>c});var a={};n.r(a),n.d(a,{GET:()=>m});var r=n(70101),i=n(90796),p=n(83055),s=n(12903),o=n(68364);async function m(){try{let e=(await o._.ticket.findMany({where:{paymentStatus:"pending"},include:{raffle:{select:{title:!0}}},orderBy:{purchasedAt:"asc"}})).map(e=>({ticketId:e.id,raffleTitle:e.raffle.title,ticketNumber:e.ticketNumber,buyerName:e.buyerName,buyerEmail:e.buyerEmail,paymentMethod:e.paymentMethod,paymentReference:e.paymentReference,paymentProof:e.paymentProof,paymentComment:e.paymentComment,amountPaid:Number(e.amountPaid),purchasedAt:e.purchasedAt}));return s.NextResponse.json({payments:e})}catch(e){return console.error("Error fetching pending payments:",e),s.NextResponse.json({error:"Failed to fetch pending payments"},{status:500})}}let d=new r.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/admin/payments/pending/route",pathname:"/api/admin/payments/pending",filename:"route",bundlePath:"app/api/admin/payments/pending/route"},resolvedPagePath:"C:\\Users\\BIENV\\Downloads\\auth-system\\app\\api\\admin\\payments\\pending\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:u,staticGenerationAsyncStorage:c,serverHooks:l}=d,y="/api/admin/payments/pending/route";function h(){return(0,p.patchFetch)({serverHooks:l,staticGenerationAsyncStorage:c})}},68364:(e,t,n)=>{n.d(t,{_:()=>r});let a=require("@prisma/client"),r=globalThis.prisma??new a.PrismaClient}};var t=require("../../../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),a=t.X(0,[9780,332],()=>n(24703));module.exports=a})();