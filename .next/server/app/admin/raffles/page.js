(()=>{var e={};e.id=135,e.ids=[135],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12310:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>o}),t(76717),t(66058),t(18766),t(76085);var s=t(1493),r=t(90796),i=t(63777),l=t.n(i),n=t(24347),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(a,d);let o=["",{children:["admin",{children:["raffles",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,76717)),"C:\\Users\\BIENV\\Downloads\\auth-system\\app\\admin\\raffles\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,66058)),"C:\\Users\\BIENV\\Downloads\\auth-system\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,18766)),"C:\\Users\\BIENV\\Downloads\\auth-system\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,76085,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\BIENV\\Downloads\\auth-system\\app\\admin\\raffles\\page.tsx"],u="/admin/raffles/page",m={require:t,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/raffles/page",pathname:"/admin/raffles",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},16280:(e,a,t)=>{Promise.resolve().then(t.bind(t,24329))},24329:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>E});var s=t(15414),r=t(6867),i=t(70003),l=t(15519),n=t(91703),d=t(37104),o=t(50193),c=t(68070),u=t(42089),m=t(55069),x=t(65111),h=t(18321),p=t(232),f=t(35762),v=t(93781),g=t(19961),j=t(8373),b=t(22678),N=t(32783),y=t(77287),w=t(49311);let k=(0,t(96605).Z)("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);var C=t(40664),z=t(34746),D=t(32121),S=t(34764),_=t(62323);function P({raffle:e,onSave:a,onCancel:t,isLoading:i=!1}){let[l,n]=(0,r.useState)({title:"",description:"",imageUrl:"",pricePerTicket:0,totalTickets:1e4,startDate:"",endDate:"",drawDate:"",status:"active"}),[d,o]=(0,r.useState)(null),c=(e,a)=>{n(t=>({...t,[e]:a}))};return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)(h.Zb,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)(h.Ol,{className:"flex flex-row items-center justify-between",children:[s.jsx(h.ll,{children:e?"Editar Rifa":"Crear Nueva Rifa"}),s.jsx(p.z,{variant:"ghost",size:"sm",onClick:t,children:s.jsx(y.Z,{className:"h-4 w-4"})})]}),s.jsx(h.aY,{children:(0,s.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!l.title.trim()){b.A.error("El t\xedtulo es requerido");return}if(!l.description.trim()){b.A.error("La descripci\xf3n es requerida");return}if(l.pricePerTicket<=0){b.A.error("El precio por boleto debe ser mayor a 0");return}if(l.totalTickets<=0){b.A.error("El n\xfamero total de boletos debe ser mayor a 0");return}if(!l.startDate||!l.endDate||!l.drawDate){b.A.error("Todas las fechas son requeridas");return}let t=new Date(l.startDate),s=new Date(l.endDate),r=new Date(l.drawDate);if(s<=t){b.A.error("La fecha de fin debe ser posterior a la fecha de inicio");return}if(r<=s){b.A.error("La fecha de sorteo debe ser posterior a la fecha de fin");return}a({...l,startDate:t.toISOString(),endDate:s.toISOString(),drawDate:r.toISOString()})},className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(D._,{htmlFor:"title",children:"T\xedtulo de la Rifa *"}),s.jsx(f.I,{id:"title",value:l.title,onChange:e=>c("title",e.target.value),placeholder:"Ej: Toyota Corolla 2024",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(D._,{htmlFor:"status",children:"Estado"}),(0,s.jsxs)(_.Ph,{value:l.status,onValueChange:e=>c("status",e),children:[s.jsx(_.i4,{children:s.jsx(_.ki,{})}),(0,s.jsxs)(_.Bw,{children:[s.jsx(_.Ql,{value:"active",children:"Activa"}),s.jsx(_.Ql,{value:"closed",children:"Cerrada"}),s.jsx(_.Ql,{value:"drawn",children:"Sorteada"})]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(D._,{htmlFor:"description",children:"Descripci\xf3n *"}),s.jsx(S.g,{id:"description",value:l.description,onChange:e=>c("description",e.target.value),placeholder:"Describe el premio, caracter\xedsticas del veh\xedculo, etc.",rows:4,required:!0})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(D._,{htmlFor:"pricePerTicket",className:"flex items-center",children:[s.jsx(w.Z,{className:"h-4 w-4 mr-1"}),"Precio por Boleto *"]}),s.jsx(f.I,{id:"pricePerTicket",type:"number",min:"1",value:l.pricePerTicket,onChange:e=>c("pricePerTicket",parseFloat(e.target.value)||0),placeholder:"25.00",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(D._,{htmlFor:"totalTickets",className:"flex items-center",children:[s.jsx(k,{className:"h-4 w-4 mr-1"}),"Total de Boletos *"]}),s.jsx(f.I,{id:"totalTickets",type:"number",min:"1",max:"10000",value:l.totalTickets,onChange:e=>c("totalTickets",parseInt(e.target.value)||0),placeholder:"10000",required:!0}),(0,s.jsxs)("p",{className:"text-xs text-slate-500",children:["N\xfameros del 0000 al"," ",(l.totalTickets-1).toString().padStart(4,"0")]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(D._,{children:"Valor Total del Premio"}),(0,s.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["$",(l.pricePerTicket*l.totalTickets).toLocaleString()]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(D._,{htmlFor:"startDate",className:"flex items-center",children:[s.jsx(C.Z,{className:"h-4 w-4 mr-1"}),"Fecha de Inicio *"]}),s.jsx(f.I,{id:"startDate",type:"date",value:l.startDate,onChange:e=>c("startDate",e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(D._,{htmlFor:"endDate",className:"flex items-center",children:[s.jsx(C.Z,{className:"h-4 w-4 mr-1"}),"Fecha de Fin *"]}),s.jsx(f.I,{id:"endDate",type:"date",value:l.endDate,onChange:e=>c("endDate",e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(D._,{htmlFor:"drawDate",className:"flex items-center",children:[s.jsx(C.Z,{className:"h-4 w-4 mr-1"}),"Fecha de Sorteo *"]}),s.jsx(f.I,{id:"drawDate",type:"date",value:l.drawDate,onChange:e=>c("drawDate",e.target.value),required:!0})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(D._,{children:"Imagen del Premio"}),s.jsx("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-6 text-center",children:d?(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("img",{src:d,alt:"Preview",className:"max-w-full h-48 object-cover rounded-lg mx-auto"}),s.jsx(p.z,{type:"button",variant:"outline",onClick:()=>{o(null),n(e=>({...e,imageUrl:""}))},children:"Cambiar Imagen"})]}):(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx(z.Z,{className:"h-12 w-12 text-slate-400 mx-auto"}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Arrastra una imagen aqu\xed o haz clic para seleccionar"}),s.jsx("p",{className:"text-xs text-slate-500",children:"PNG, JPG hasta 5MB"})]}),s.jsx(f.I,{type:"file",accept:"image/*",onChange:e=>{let a=e.target.files?.[0];if(a){let e=new FileReader;e.onload=e=>{let a=e.target?.result;o(a),n(e=>({...e,imageUrl:a}))},e.readAsDataURL(a)}},className:"hidden",id:"image-upload"}),s.jsx(p.z,{type:"button",variant:"outline",onClick:()=>document.getElementById("image-upload")?.click(),children:"Seleccionar Imagen"})]})})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[s.jsx(p.z,{type:"button",variant:"outline",onClick:t,children:"Cancelar"}),s.jsx(p.z,{type:"submit",disabled:i,children:i?"Guardando...":e?"Actualizar Rifa":"Crear Rifa"})]})]})})]})})}var Z=t(46150);function A({raffle:e,onAssign:a,onCancel:t,isLoading:i=!1}){let[n,d]=(0,r.useState)(null),[o,c]=(0,r.useState)(""),[m,x]=(0,r.useState)([]),[v,g]=(0,r.useState)(!1),[j,N]=(0,r.useState)({winnerName:"",winnerEmail:"",winnerPhone:"",ticketNumber:0,videoUrl:"",claimed:!1}),w=m.filter(e=>e.buyerName.toLowerCase().includes(o.toLowerCase())||e.buyerEmail.toLowerCase().includes(o.toLowerCase())||e.ticketNumber.toString().includes(o)),k=e=>{d(e.id),N({winnerName:e.buyerName,winnerEmail:e.buyerEmail,winnerPhone:e.buyerPhone||"",ticketNumber:e.ticketNumber,videoUrl:"",claimed:!1})};return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)(h.Zb,{className:"w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)(h.Ol,{className:"flex flex-row items-center justify-between",children:[(0,s.jsxs)(h.ll,{className:"flex items-center space-x-2",children:[s.jsx(u.Z,{className:"h-5 w-5 text-yellow-500"}),(0,s.jsxs)("span",{children:["Asignar Ganador - ",e.title]})]}),s.jsx(p.z,{variant:"ghost",size:"sm",onClick:t,children:s.jsx(y.Z,{className:"h-4 w-4"})})]}),s.jsx(h.aY,{children:(0,s.jsxs)("form",{onSubmit:t=>{if(t.preventDefault(),!n){b.A.error("Debes seleccionar un boleto ganador");return}if(!j.winnerName.trim()){b.A.error("El nombre del ganador es requerido");return}if(!j.winnerEmail.trim()){b.A.error("El email del ganador es requerido");return}a({raffleId:e.id,...j})},className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Informaci\xf3n de la Rifa"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[s.jsx("span",{className:"font-medium",children:"Total de Boletos:"})," ",e.totalTickets]}),(0,s.jsxs)("div",{children:[s.jsx("span",{className:"font-medium",children:"Boletos Vendidos:"})," ",m.length]}),(0,s.jsxs)("div",{children:[s.jsx("span",{className:"font-medium",children:"Porcentaje Vendido:"})," ",e.totalTickets>0?(m.length/e.totalTickets*100).toFixed(1):"0","%"]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx(D._,{children:"Seleccionar Boleto Ganador"}),(0,s.jsxs)("div",{className:"relative mt-2",children:[s.jsx(l.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4"}),s.jsx(f.I,{placeholder:"Buscar por nombre, email o n\xfamero...",value:o,onChange:e=>c(e.target.value),className:"pl-10"})]})]}),s.jsx("div",{className:"border border-slate-200 rounded-lg max-h-96 overflow-y-auto",children:v?s.jsx("div",{className:"p-4 text-center text-slate-500",children:"Cargando boletos..."}):0===w.length?s.jsx("div",{className:"p-4 text-center text-slate-500",children:0===m.length?"No hay boletos confirmados para esta rifa":"No se encontraron boletos que coincidan con la b\xfasqueda"}):s.jsx("div",{className:"divide-y",children:w.map(e=>s.jsx("div",{className:`p-4 cursor-pointer hover:bg-slate-50 transition-colors ${n===e.id?"bg-blue-50 border-l-4 border-blue-500":""}`,onClick:()=>k(e),children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx(Z.Z,{className:"h-4 w-4 text-blue-600"}),(0,s.jsxs)("span",{className:"font-mono font-semibold",children:["#",e.ticketNumber.toString().padStart(4,"0")]})]}),(0,s.jsxs)("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium",children:e.buyerName}),s.jsx("div",{className:"text-slate-600",children:e.buyerEmail})]})]}),(0,s.jsxs)("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs text-slate-500",children:e.buyerPhone||"Sin tel\xe9fono"}),s.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${"confirmed"===e.paymentStatus?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:"confirmed"===e.paymentStatus?"Confirmado":"Pendiente"})]})]})},e.id))})})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-slate-900",children:"Detalles del Ganador"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx(D._,{htmlFor:"winnerName",children:"Nombre del Ganador *"}),s.jsx(f.I,{id:"winnerName",value:j.winnerName,onChange:e=>N(a=>({...a,winnerName:e.target.value})),placeholder:"Nombre completo del ganador",required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx(D._,{htmlFor:"winnerEmail",children:"Email del Ganador *"}),s.jsx(f.I,{id:"winnerEmail",type:"email",value:j.winnerEmail,onChange:e=>N(a=>({...a,winnerEmail:e.target.value})),placeholder:"email@ejemplo.com",required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx(D._,{htmlFor:"winnerPhone",children:"Tel\xe9fono del Ganador"}),s.jsx(f.I,{id:"winnerPhone",value:j.winnerPhone,onChange:e=>N(a=>({...a,winnerPhone:e.target.value})),placeholder:"+58 412-123-4567"})]}),(0,s.jsxs)("div",{children:[s.jsx(D._,{htmlFor:"videoUrl",children:"URL del Video del Sorteo"}),s.jsx(f.I,{id:"videoUrl",value:j.videoUrl,onChange:e=>N(a=>({...a,videoUrl:e.target.value})),placeholder:"https://youtube.com/watch?v=..."})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"claimed",checked:j.claimed,onChange:e=>N(a=>({...a,claimed:e.target.checked})),className:"rounded"}),s.jsx(D._,{htmlFor:"claimed",children:"Premio Reclamado"})]})]}),n&&(0,s.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-green-800",children:[s.jsx(u.Z,{className:"h-5 w-5"}),s.jsx("span",{className:"font-semibold",children:"Boleto Ganador Seleccionado"})]}),(0,s.jsxs)("div",{className:"mt-2 text-sm text-green-700",children:[(0,s.jsxs)("div",{children:["N\xfamero:"," ",(0,s.jsxs)("span",{className:"font-mono font-bold",children:["#",j.ticketNumber.toString().padStart(4,"0")]})]}),(0,s.jsxs)("div",{children:["Comprador: ",j.winnerName]})]})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[s.jsx(p.z,{type:"button",variant:"outline",onClick:t,children:"Cancelar"}),s.jsx(p.z,{type:"submit",disabled:i||!n,className:"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600",children:i?"Asignando...":"Asignar Ganador"})]})]})})]})})}function E(){let[e,a]=(0,r.useState)(""),[t,y]=(0,r.useState)(null),[w,k]=(0,r.useState)(!0),[C,z]=(0,r.useState)(null),[D,S]=(0,r.useState)(!1),[_,Z]=(0,r.useState)(null),[E,T]=(0,r.useState)(!1),[I,q]=(0,r.useState)(null),[F,R]=(0,r.useState)(null),[L,U]=(0,r.useState)(!1),[V,B]=(0,r.useState)(!1),G=async()=>{try{k(!0);let e=await N.N.listAllRaffles();y(e)}catch(e){console.error("Error fetching raffles:",e),b.A.error("No se pudieron cargar las rifas.")}finally{k(!1)}},M=async(e,a)=>{try{z(e),await N.N.updateRaffleStatus({raffleId:e,status:a}),b.A.success("El estado de la rifa ha sido actualizado."),await G()}catch(e){console.error("Update status error:",e),b.A.error("No se pudo actualizar el estado.")}finally{z(null)}},O=e=>{Z(e),S(!0)},$=e=>{R(e)},Y=async()=>{if(F)try{await N.N.deleteRaffle(F.id),b.A.success("La rifa ha sido eliminada exitosamente."),await G()}catch(e){console.error("Delete raffle error:",e),b.A.error("No se pudo eliminar la rifa.")}finally{R(null)}},X=async e=>{try{U(!0),_?(await N.N.updateRaffle(_.id,e),b.A.success("La rifa ha sido actualizada exitosamente.")):(await N.N.createRaffle(e),b.A.success("La rifa ha sido creada exitosamente.")),S(!1),Z(null),await G()}catch(e){console.error("Save raffle error:",e),b.A.error("No se pudo guardar la rifa.")}finally{U(!1)}},H=e=>{q(e),T(!0)},Q=async e=>{try{B(!0),await N.N.assignWinner(e),b.A.success("El ganador ha sido asignado exitosamente."),T(!1),q(null),await G()}catch(e){console.error("Assign winner error:",e),b.A.error("No se pudo asignar el ganador.")}finally{B(!1)}},W=t?.raffles.filter(a=>a.title.toLowerCase().includes(e.toLowerCase()))||[],J=e=>{switch(e){case"active":return"bg-green-100 text-green-800 border-green-200";case"closed":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"drawn":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},K=e=>{switch(e){case"active":return"Activa";case"closed":return"Cerrada";case"drawn":return"Sorteada";default:return e}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Gesti\xf3n de Rifas"}),s.jsx("p",{className:"text-slate-600",children:"Administra todas las rifas de la plataforma"})]}),(0,s.jsxs)(p.z,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",onClick:()=>{Z(null),S(!0)},children:[s.jsx(i.Z,{className:"h-4 w-4 mr-2"}),"Nueva Rifa"]})]}),s.jsx(h.Zb,{children:s.jsx(h.aY,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[s.jsx(l.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4"}),s.jsx(f.I,{placeholder:"Buscar rifas...",value:e,onChange:e=>a(e.target.value),className:"pl-10"})]}),(0,s.jsxs)(p.z,{variant:"outline",className:"flex items-center space-x-2",children:[s.jsx(n.Z,{className:"h-4 w-4"}),s.jsx("span",{children:"Filtros"})]})]})})}),(0,s.jsxs)(h.Zb,{children:[s.jsx(h.Ol,{children:(0,s.jsxs)(h.ll,{children:["Todas las Rifas (",W.length,")"]})}),s.jsx(h.aY,{children:w?s.jsx("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,a)=>s.jsx("div",{className:"animate-pulse",children:s.jsx("div",{className:"bg-slate-200 h-16 rounded"})},a))}):0===W.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[s.jsx("div",{className:"bg-slate-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:s.jsx(l.Z,{className:"h-8 w-8 text-slate-400"})}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No se encontraron rifas"}),s.jsx("p",{className:"text-slate-600",children:e?"Intenta con otros t\xe9rminos de b\xfasqueda":"A\xfan no hay rifas creadas"})]}):s.jsx("div",{className:"space-y-4",children:W.map(e=>s.jsx("div",{className:"border border-slate-200 rounded-lg p-4 hover:bg-slate-50 transition-colors",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[s.jsx("img",{src:e.imageUrl||"/placeholder-car.jpg",alt:e.title,className:"w-16 h-16 object-cover rounded-lg"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h3",{className:"font-semibold text-slate-900",children:e.title}),s.jsx(v.C,{className:J(e.status),children:K(e.status)})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-slate-600",children:[(0,s.jsxs)("div",{children:[s.jsx("span",{className:"font-medium",children:"Precio:"})," $",e.pricePerTicket]}),(0,s.jsxs)("div",{children:[s.jsx("span",{className:"font-medium",children:"Vendidos:"})," ",e.soldTickets,"/",e.totalTickets]}),(0,s.jsxs)("div",{children:[s.jsx("span",{className:"font-medium",children:"Fin:"})," ",new Date(e.endDate).toLocaleDateString()]}),(0,s.jsxs)("div",{children:[s.jsx("span",{className:"font-medium",children:"Sorteo:"})," ",new Date(e.drawDate).toLocaleDateString()]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx(p.z,{variant:"outline",size:"sm",children:s.jsx(d.Z,{className:"h-4 w-4"})}),s.jsx(p.z,{variant:"outline",size:"sm",onClick:()=>O(e),children:s.jsx(o.Z,{className:"h-4 w-4"})}),(0,s.jsxs)(g.h_,{children:[s.jsx(g.$F,{asChild:!0,children:s.jsx("div",{className:"flex items-center p-2 bg-white rounded-md shadow-sm",children:s.jsx(c.Z,{className:"h-4 w-4"})})}),(0,s.jsxs)(g.AW,{align:"end",children:["active"===e.status&&s.jsx(g.Xi,{onClick:()=>M(e.id,"closed"),disabled:C===e.id,children:C===e.id?"Cerrando...":"Cerrar Rifa"}),"closed"===e.status&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(g.Xi,{onClick:()=>M(e.id,"drawn"),disabled:C===e.id,children:C===e.id?"Actualizando...":"Marcar como Sorteada"}),(0,s.jsxs)(g.Xi,{onClick:()=>H(e),children:[s.jsx(u.Z,{className:"h-4 w-4 mr-2"}),"Asignar Ganador"]})]}),s.jsx(g.VD,{}),(0,s.jsxs)(g.Xi,{className:"text-red-600",onClick:()=>$(e),children:[s.jsx(m.Z,{className:"h-4 w-4 mr-2"}),"Eliminar"]})]})]})]})]})},e.id))})})]})]}),D&&s.jsx(P,{raffle:_||void 0,onSave:X,onCancel:()=>{S(!1),Z(null)},isLoading:L}),E&&I&&s.jsx(A,{raffle:I,onAssign:Q,onCancel:()=>{T(!1),q(null)},isLoading:V}),s.jsx(j.aR,{open:!!F,onOpenChange:()=>R(null),children:(0,s.jsxs)(j._T,{children:[(0,s.jsxs)(j.fY,{children:[(0,s.jsxs)(j.f$,{className:"flex items-center space-x-2",children:[s.jsx(x.Z,{className:"h-5 w-5 text-red-500"}),s.jsx("span",{children:"\xbfEliminar Rifa?"})]}),(0,s.jsxs)(j.yT,{children:['\xbfEst\xe1s seguro de que quieres eliminar la rifa "',F?.title,'"? Esta acci\xf3n no se puede deshacer y eliminar\xe1 todos los datos asociados.']})]}),(0,s.jsxs)(j.xo,{children:[s.jsx(j.le,{children:"Cancelar"}),s.jsx(j.OL,{onClick:Y,className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]})]})})]})}},8373:(e,a,t)=>{"use strict";t.d(a,{OL:()=>p,_T:()=>c,aR:()=>n,f$:()=>x,fY:()=>u,le:()=>f,xo:()=>m,yT:()=>h});var s=t(15414);t(6867);var r=t(64477),i=t(46776),l=t(232);function n({...e}){return s.jsx(r.fC,{"data-slot":"alert-dialog",...e})}function d({...e}){return s.jsx(r.h_,{"data-slot":"alert-dialog-portal",...e})}function o({className:e,...a}){return s.jsx(r.aV,{"data-slot":"alert-dialog-overlay",className:(0,i.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...a})}function c({className:e,...a}){return(0,s.jsxs)(d,{children:[s.jsx(o,{}),s.jsx(r.VY,{"data-slot":"alert-dialog-content",className:(0,i.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...a})]})}function u({className:e,...a}){return s.jsx("div",{"data-slot":"alert-dialog-header",className:(0,i.cn)("flex flex-col gap-2 text-center sm:text-left",e),...a})}function m({className:e,...a}){return s.jsx("div",{"data-slot":"alert-dialog-footer",className:(0,i.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...a})}function x({className:e,...a}){return s.jsx(r.Dx,{"data-slot":"alert-dialog-title",className:(0,i.cn)("text-lg font-semibold",e),...a})}function h({className:e,...a}){return s.jsx(r.dk,{"data-slot":"alert-dialog-description",className:(0,i.cn)("text-muted-foreground text-sm",e),...a})}function p({className:e,...a}){return s.jsx(r.aU,{className:(0,i.cn)((0,l.d)(),e),...a})}function f({className:e,...a}){return s.jsx(r.$j,{className:(0,i.cn)((0,l.d)({variant:"outline"}),e),...a})}},93781:(e,a,t)=>{"use strict";t.d(a,{C:()=>d});var s=t(15414);t(6867);var r=t(3282),i=t(16358),l=t(46776);let n=(0,i.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function d({className:e,variant:a,asChild:t=!1,...i}){let d=t?r.g7:"span";return s.jsx(d,{"data-slot":"badge",className:(0,l.cn)(n({variant:a}),e),...i})}},19961:(e,a,t)=>{"use strict";t.d(a,{$F:()=>n,AW:()=>d,VD:()=>c,Xi:()=>o,h_:()=>l});var s=t(15414);t(6867);var r=t(19235),i=t(46776);function l({...e}){return s.jsx(r.fC,{"data-slot":"dropdown-menu",...e})}function n({...e}){return s.jsx(r.xz,{"data-slot":"dropdown-menu-trigger",...e})}function d({className:e,sideOffset:a=4,...t}){return s.jsx(r.Uv,{children:s.jsx(r.VY,{"data-slot":"dropdown-menu-content",sideOffset:a,className:(0,i.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...t})})}function o({className:e,inset:a,variant:t="default",...l}){return s.jsx(r.ck,{"data-slot":"dropdown-menu-item","data-inset":a,"data-variant":t,className:(0,i.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...l})}function c({className:e,...a}){return s.jsx(r.Z0,{"data-slot":"dropdown-menu-separator",className:(0,i.cn)("bg-border -mx-1 my-1 h-px",e),...a})}},35762:(e,a,t)=>{"use strict";t.d(a,{I:()=>i});var s=t(15414);t(6867);var r=t(46776);function i({className:e,type:a,...t}){return s.jsx("input",{type:a,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...t})}},32121:(e,a,t)=>{"use strict";t.d(a,{_:()=>d});var s=t(15414),r=t(6867),i=t(19218),l=r.forwardRef((e,a)=>(0,s.jsx)(i.WV.label,{...e,ref:a,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));l.displayName="Label";var n=t(46776);function d({className:e,...a}){return s.jsx(l,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...a})}},62323:(e,a,t)=>{"use strict";t.d(a,{Bw:()=>m,Ph:()=>o,Ql:()=>x,i4:()=>u,ki:()=>c});var s=t(15414);t(6867);var r=t(36633),i=t(39603),l=t(4721),n=t(54350),d=t(46776);function o({...e}){return s.jsx(r.fC,{"data-slot":"select",...e})}function c({...e}){return s.jsx(r.B4,{"data-slot":"select-value",...e})}function u({className:e,size:a="default",children:t,...l}){return(0,s.jsxs)(r.xz,{"data-slot":"select-trigger","data-size":a,className:(0,d.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...l,children:[t,s.jsx(r.JO,{asChild:!0,children:s.jsx(i.Z,{className:"size-4 opacity-50"})})]})}function m({className:e,children:a,position:t="popper",...i}){return s.jsx(r.h_,{children:(0,s.jsxs)(r.VY,{"data-slot":"select-content",className:(0,d.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...i,children:[s.jsx(h,{}),s.jsx(r.l_,{className:(0,d.cn)("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),s.jsx(p,{})]})})}function x({className:e,children:a,...t}){return(0,s.jsxs)(r.ck,{"data-slot":"select-item",className:(0,d.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...t,children:[s.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:s.jsx(r.wU,{children:s.jsx(l.Z,{className:"size-4"})})}),s.jsx(r.eT,{children:a})]})}function h({className:e,...a}){return s.jsx(r.u_,{"data-slot":"select-scroll-up-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:s.jsx(n.Z,{className:"size-4"})})}function p({className:e,...a}){return s.jsx(r.$G,{"data-slot":"select-scroll-down-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:s.jsx(i.Z,{className:"size-4"})})}},34764:(e,a,t)=>{"use strict";t.d(a,{g:()=>i});var s=t(15414);t(6867);var r=t(46776);function i({className:e,...a}){return s.jsx("textarea",{"data-slot":"textarea",className:(0,r.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...a})}},40664:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(96605).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},49311:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(96605).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},68070:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(96605).Z)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},70003:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(96605).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},46150:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(96605).Z)("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]])},34746:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(96605).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},76717:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});let s=(0,t(25805).createProxy)(String.raw`C:\Users\BIENV\Downloads\auth-system\app\admin\raffles\page.tsx#default`)}};var a=require("../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[9780,5688,8388,1430,4322,9235,5715,9849,7490],()=>t(12310));module.exports=s})();