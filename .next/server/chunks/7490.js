exports.id=7490,exports.ids=[7490],exports.modules={32345:(e,t,a)=>{Promise.resolve().then(a.bind(a,73417)),Promise.resolve().then(a.bind(a,12904))},61153:(e,t,a)=>{Promise.resolve().then(a.bind(a,85866)),Promise.resolve().then(a.bind(a,22678))},53344:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,27885,23)),Promise.resolve().then(a.t.bind(a,19629,23)),Promise.resolve().then(a.t.bind(a,85471,23)),Promise.resolve().then(a.t.bind(a,96462,23)),Promise.resolve().then(a.t.bind(a,94253,23)),Promise.resolve().then(a.t.bind(a,63891,23))},73417:(e,t,a)=>{"use strict";a.d(t,{default:()=>o});var s=a(15414),r=a(56830),i=a(29313);a(6867);var n=a(83247);function o({children:e}){let{data:t,status:a}=(0,r.useSession)();return((0,i.useRouter)(),"loading"===a)?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx(n.Z,{className:"h-6 w-6 animate-spin"}),s.jsx("span",{children:"Cargando..."})]})}):t&&"admin"===t.user.role?s.jsx(s.Fragment,{children:e}):null}},12904:(e,t,a)=>{"use strict";a.d(t,{default:()=>y});var s=a(15414),r=a(25364),i=a(29313),n=a(56830),o=a(87921),d=a(42089),l=a(27604),c=a(42770),m=a(35631),u=a(86119),h=a(94860),f=a(28395),x=a(72884),v=a(13820),p=a(232),g=a(46776);let b=[{name:"Dashboard",href:"/admin",icon:o.Z},{name:"Rifas",href:"/admin/raffles",icon:d.Z},{name:"Ganadores",href:"/admin/winners",icon:l.Z},{name:"Usuarios",href:"/admin/users",icon:c.Z},{name:"Pagos",href:"/admin/payments",icon:m.Z},{name:"Reportes",href:"/admin/reports",icon:u.Z},{name:"Configuraci\xf3n",href:"/admin/settings",icon:h.Z}];function y(){let{data:e}=(0,n.useSession)(),t=e?.user,a=(0,i.usePathname)(),o=e=>"/admin"===e?"/admin"===a:a.startsWith(e);return(0,s.jsxs)("div",{className:"flex h-full w-64 flex-col bg-slate-900",children:[s.jsx("div",{className:"flex h-16 items-center px-6 border-b border-slate-800",children:(0,s.jsxs)(r.default,{href:"/admin",className:"flex items-center space-x-2",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-2 rounded-lg",children:s.jsx(f.Z,{className:"h-6 w-6 text-white"})}),(0,s.jsxs)("div",{children:[s.jsx("span",{className:"text-white font-bold text-lg",children:"AutoRifa Pro"}),s.jsx("p",{className:"text-slate-400 text-xs",children:"Panel Admin"})]})]})}),s.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",role:"navigation","aria-label":"Admin navigation",children:b.map(e=>{let t=e.icon,a=o(e.href);return(0,s.jsxs)(r.default,{href:e.href,className:(0,g.cn)("flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",a?"bg-blue-600 text-white":"text-slate-300 hover:text-white hover:bg-slate-800"),"aria-current":a?"page":void 0,children:[s.jsx(t,{className:"h-5 w-5"}),s.jsx("span",{children:e.name})]},e.name)})}),(0,s.jsxs)("div",{className:"p-4 border-t border-slate-800",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 px-3 py-2 text-slate-300",children:[s.jsx(x.Z,{className:"h-5 w-5"}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:t?.name||"Admin User"}),s.jsx("p",{className:"text-xs text-slate-400",children:t?.email||"admin@autorifapro.com"})]})]}),(0,s.jsxs)(p.z,{variant:"ghost",size:"sm",className:"w-full mt-2 text-slate-300 hover:text-white hover:bg-slate-800",onClick:()=>(0,n.signOut)({callbackUrl:"/"}),children:[s.jsx(v.Z,{className:"h-4 w-4 mr-2"}),"Cerrar Sesi\xf3n"]}),s.jsx(p.z,{variant:"ghost",size:"sm",className:"w-full mt-2 text-slate-300 hover:text-white hover:bg-slate-800",asChild:!0,children:s.jsx(r.default,{href:"/",children:"Volver al Sitio"})})]})]})}},85866:(e,t,a)=>{"use strict";a.d(t,{Providers:()=>i});var s=a(15414),r=a(56830);function i({children:e}){return s.jsx(r.SessionProvider,{children:e})}},232:(e,t,a)=>{"use strict";a.d(t,{d:()=>o,z:()=>d});var s=a(15414);a(6867);var r=a(3282),i=a(16358),n=a(46776);let o=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d({className:e,variant:t,size:a,asChild:i=!1,...d}){let l=i?r.g7:"button";return s.jsx(l,{"data-slot":"button",className:(0,n.cn)(o({variant:t,size:a,className:e})),...d})}},18321:(e,t,a)=>{"use strict";a.d(t,{Ol:()=>n,SZ:()=>d,Zb:()=>i,aY:()=>l,eW:()=>c,ll:()=>o});var s=a(15414);a(6867);var r=a(46776);function i({className:e,...t}){return s.jsx("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function n({className:e,...t}){return s.jsx("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function o({className:e,...t}){return s.jsx("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...t})}function d({className:e,...t}){return s.jsx("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...t})}function l({className:e,...t}){return s.jsx("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",e),...t})}function c({className:e,...t}){return s.jsx("div",{"data-slot":"card-footer",className:(0,r.cn)("flex items-center px-6 [.border-t]:pt-6",e),...t})}},32783:(e,t,a)=>{"use strict";a.d(t,{N:()=>i});class s extends Error{constructor(e,t){super(e),this.status=t}}async function r(e,t){let a=await fetch(e,{headers:{"Content-Type":"application/json",...t?.headers},...t});if(!a.ok)throw new s((await a.json().catch(()=>({error:"Request failed"}))).error||`HTTP ${a.status}`,a.status);return a.json()}let i={getAdminStats:async()=>r("/api/admin/stats"),async listAllRaffles(){let e=await r("/api/admin/raffles");return{raffles:await Promise.all(e.raffles.map(async e=>{try{let t=await r(`/api/raffles/${e.id}/available-tickets`);return{...e,soldTickets:e.totalTickets-(t.soldTickets||0)}}catch{return{...e,soldTickets:0}}}))}},createRaffle:async e=>r("/api/admin/raffles",{method:"POST",body:JSON.stringify(e)}),updateRaffle:async(e,t)=>r(`/api/admin/raffles/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteRaffle:async e=>r(`/api/admin/raffles/${e}`,{method:"DELETE"}),getPendingPayments:async()=>r("/api/admin/payments/pending"),confirmPayment:async e=>r(`/api/admin/tickets/${e.ticketId}/confirm`,{method:"PUT"}),updateRaffleStatus:async e=>r(`/api/admin/raffles/${e.raffleId}/status`,{method:"PUT",body:JSON.stringify({status:e.status})}),assignWinner:async e=>r("/api/admin/winners",{method:"POST",body:JSON.stringify(e)}),getWinners:async()=>r("/api/admin/winners"),getUsers:async()=>Promise.resolve({users:[{id:1,name:"Mar\xeda Gonz\xe1lez",email:"maria.gonzalez@email.com",phone:"+1234567890",country:"Venezuela",city:"Caracas",totalTickets:15,totalSpent:375,lastPurchase:"2024-01-15T00:00:00Z",status:"active",createdAt:"2023-12-01T00:00:00Z"},{id:2,name:"Carlos Rodr\xedguez",email:"carlos.rodriguez@email.com",phone:"+1987654321",country:"Colombia",city:"Bogot\xe1",totalTickets:8,totalSpent:280,lastPurchase:"2024-01-14T00:00:00Z",status:"active",createdAt:"2023-11-15T00:00:00Z"},{id:3,name:"Ana Mart\xednez",email:"ana.martinez@email.com",phone:"+1122334455",country:"M\xe9xico",city:"Ciudad de M\xe9xico",totalTickets:22,totalSpent:550,lastPurchase:"2024-01-13T00:00:00Z",status:"active",createdAt:"2023-10-20T00:00:00Z"},{id:4,name:"Luis P\xe9rez",email:"luis.perez@email.com",phone:"+1555666777",country:"Espa\xf1a",city:"Madrid",totalTickets:3,totalSpent:75,lastPurchase:"2024-01-10T00:00:00Z",status:"inactive",createdAt:"2023-09-05T00:00:00Z"}]})}},46776:(e,t,a)=>{"use strict";a.d(t,{D0:()=>n,cn:()=>i});var s=a(13989),r=a(96089);function i(...e){return(0,r.m6)((0,s.W)(e))}function n(e,t=5242880){return e.size>t?{valid:!1,error:`El archivo es demasiado grande. M\xe1ximo ${t/1048576}MB.`}:["image/jpeg","image/jpg","image/png","image/webp"].includes(e.type)?{valid:!0}:{valid:!1,error:"Solo se permiten archivos de imagen (JPG, PNG, WEBP)."}}},66058:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var s=a(10393),r=a(25805);let i=(0,r.createProxy)(String.raw`C:\Users\BIENV\Downloads\auth-system\components\admin\AdminSidebar.tsx#default`),n=(0,r.createProxy)(String.raw`C:\Users\BIENV\Downloads\auth-system\components\admin\AdminProtected.tsx#default`);function o({children:e}){return s.jsx(n,{children:(0,s.jsxs)("div",{className:"flex h-screen bg-slate-100",children:[s.jsx(i,{}),s.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:s.jsx("main",{className:"flex-1 overflow-y-auto",children:e})})]})})}},18766:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l,metadata:()=>d});var s=a(10393),r=a(60207),i=a.n(r);a(38857);let n=(0,a(25805).createProxy)(String.raw`C:\Users\BIENV\Downloads\auth-system\components\providers\session-provider.tsx#Providers`);var o=a(23264);let d={title:"Auth System",description:"Login and Register with NextAuth and Prisma",generator:"v0.dev"};function l({children:e}){return s.jsx("html",{lang:"en",children:(0,s.jsxs)("body",{className:i().className,children:[s.jsx(n,{children:e}),s.jsx(o.x7,{})]})})}},38857:()=>{}};